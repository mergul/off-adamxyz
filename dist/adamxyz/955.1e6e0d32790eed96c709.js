(self.webpackChunkadamxyz=self.webpackChunkadamxyz||[]).push([[955],{3955:(e,n,s)=>{"use strict";s.r(n),s.d(n,{UserManagementModule:()=>p});var t=s(1116),o=s(3464),r=s(1041),a=s(5959),i=s(5416),c=s(5366),d=s(8876);function l(e,n){if(1&e){const e=c.EpF();c.ynx(0),c.TgZ(1,"input",4),c.NdJ("ngModelChange",function(n){return c.CHM(e),c.oxw(2).oldPassword=n}),c.qZA(),c._UZ(2,"br"),c.TgZ(3,"input",5),c.NdJ("ngModelChange",function(n){return c.CHM(e),c.oxw(2).newPassword=n}),c.qZA(),c._UZ(4,"br"),c.TgZ(5,"input",6),c.NdJ("ngModelChange",function(n){return c.CHM(e),c.oxw(2).confirmPassword=n}),c.qZA(),c.TgZ(6,"button",7),c.NdJ("click",function(){return c.CHM(e),c.oxw(2).handleResetPassword()}),c._uU(7,"Confirm"),c.qZA(),c.BQk()}if(2&e){const e=c.oxw(2);c.xp6(1),c.Q6J("ngModel",e.oldPassword),c.xp6(2),c.Q6J("ngModel",e.newPassword),c.xp6(2),c.Q6J("ngModel",e.confirmPassword)}}function h(e,n){1&e&&c.GkF(0)}function u(e,n){1&e&&(c.ynx(0),c.TgZ(1,"h6"),c._uU(2,"Your Email Successfully Verified"),c.qZA(),c.BQk())}function w(e,n){if(1&e&&(c.ynx(0,2),c.YNc(1,l,8,3,"ng-container",3),c.YNc(2,h,1,0,"ng-container",3),c.YNc(3,u,3,0,"ng-container",3),c.BQk()),2&e){const e=c.oxw();c.Q6J("ngSwitch",e.mode),c.xp6(1),c.Q6J("ngSwitchCase","resetPassword"),c.xp6(1),c.Q6J("ngSwitchCase","recoverEmail"),c.xp6(1),c.Q6J("ngSwitchCase","verifyEmail")}}let g=(()=>{class e{}return e.resetPassword="resetPassword",e.verifyEmail="verifyEmail",e.recoverEmail="recoverEmail",e})(),m=(()=>{class e{constructor(e,n,s){this.router=e,this.activatedRoute=n,this.authService=s,this.ngUnsubscribe=new a.xQ,this.actions=g}ngOnInit(){this.activatedRoute.queryParams.pipe((0,i.R)(this.ngUnsubscribe)).subscribe(e=>{switch(e||this.router.navigate(["/home"]),this.mode=e.mode,this.actionCode=e.oobCode,e.mode){case g.resetPassword:this.authService.afAuth.verifyPasswordResetCode(this.actionCode).then(e=>{this.actionCodeChecked=!0}).catch(e=>{alert(e),this.router.navigate(["/login"])});break;case g.recoverEmail:case g.verifyEmail:break;default:console.log("query parameters are missing"),this.router.navigate(["/login"])}})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}handleResetPassword(){this.newPassword===this.confirmPassword?this.authService.afAuth.confirmPasswordReset(this.actionCode,this.newPassword).then(e=>{alert("New password has been saved"),this.router.navigate(["/login"])}).catch(e=>{alert(e)}):alert("New Password and Confirm Password do not match")}}return e.\u0275fac=function(n){return new(n||e)(c.Y36(o.F0),c.Y36(o.gz),c.Y36(d.e))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-user-management"]],decls:2,vars:1,consts:[[2,"margin-left","35%"],[3,"ngSwitch",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["type","text","id","oldPassword","name","oldPassword","placeholder","Old Password",3,"ngModel","ngModelChange"],["type","text","id","newPassword","name","newPassword","placeholder","New Password",3,"ngModel","ngModelChange"],["type","text","id","confirmPassword","name","confirmPassword","placeholder","Confirm\n    Password",3,"ngModel","ngModelChange"],[3,"click"]],template:function(e,n){1&e&&(c.TgZ(0,"div",0),c.YNc(1,w,4,4,"ng-container",1),c.qZA()),2&e&&(c.xp6(1),c.Q6J("ngIf",n.actionCodeChecked))},directives:[t.O5,t.RF,t.n9,r.Fj,r.JJ,r.On],styles:[""]}),e})();const f=[{path:"",component:m}];let p=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=c.oAB({type:e,bootstrap:[m]}),e.\u0275inj=c.cJS({providers:[],imports:[[t.ez,o.Bz.forChild(f),r.UX,r.u5],t.ez]}),e})()}}]);