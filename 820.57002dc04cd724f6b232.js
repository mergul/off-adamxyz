(self.webpackChunkadamxyz=self.webpackChunkadamxyz||[]).push([[820],{4820:(e,t,i)=>{"use strict";i.r(t),i.d(t,{UserModule:()=>I});var r=i(1116),n=i(3464),s=i(1824),o=i(5959),c=i(878),u=i(5416),l=i(4689),a=i(5366),g=i(7905),d=i(8876),h=i(526),p=i(9823),f=i(9331),v=i(5876);const m=["myInput"],b=function(e){return[e]};function _(e,t){if(1&e&&(a.TgZ(0,"li"),a.TgZ(1,"a",16),a._uU(2),a.qZA(),a.qZA()),2&e){const e=t.$implicit,i=t.index,r=a.oxw();a.xp6(1),a.Q6J("routerLink",a.VKq(2,b,r.getUrl(e,i))),a.xp6(1),a.hij(" --\x3e ",e,"")}}function U(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"button",12,17),a.NdJ("click",function(){return a.CHM(e),a.oxw().editProfile()}),a._uU(2,"Edit Profile: "),a.qZA()}}function w(e,t){if(1&e&&(a.TgZ(0,"span",11),a._uU(1),a.qZA()),2&e){const e=a.oxw(2);a.xp6(1),a.Oqu(e.getContentsCount())}}function C(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"button",12,17),a.NdJ("click",function(){return a.CHM(e),a.oxw().contents()}),a._uU(2,"\u0130\xe7erikler: "),a.YNc(3,w,2,1,"span",18),a.qZA()}if(2&e){const e=a.oxw();a.xp6(3),a.Q6J("ngIf",!e.location.isCurrentPathEqualTo("/user/edit"))}}function Z(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",19),a.TgZ(1,"button",12),a.NdJ("click",function(){return a.CHM(e),a.oxw().tagClick()}),a._uU(2,"Takip Et"),a.qZA(),a.qZA()}}function S(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",19),a.TgZ(1,"button",20),a.NdJ("click",function(){return a.CHM(e),a.oxw().btnClick()}),a._uU(2,"Edit Profile "),a.qZA(),a.qZA()}}function x(e,t){if(1&e&&a._UZ(0,"app-profile-center",21),2&e){const e=a.oxw();a.Q6J("username",e.loggedUser.email)("boolUser",e.boolUser)("user",e.userService.dbUser)("userIds",e._userIds)("tagz",e.tags)("isPub",e._isPub)}}let O=(()=>{class e{constructor(e,t,i,r,n,a,g,d,h){this.userService=e,this.authService=t,this.route=i,this.location=r,this.winRef=n,this.reactiveService=a,this.router=g,this.service=d,this.renderer=h,this.onDestroy=new o.xQ,this.compStyle={},this.user=new s.Q,this._newsCounts=new Map,this._userIds=[],this._boolUser=(0,c.of)(0),this._isPub=(0,c.of)(!1),this.isMobile=!1,this.reactiveService.random||(this.reactiveService.random=Math.floor(899999*Math.random())+1e5),this.userService.dbUser?this.authService.checkComplete||(this.userService._me=this.userService.getDbUser("/api/rest/user/"+this.userService.dbUser.id+"/"+this.reactiveService.random+"/1"),this.userService._me.pipe((0,u.R)(this.onDestroy)).subscribe(e=>this.authService.changeEmitter.next((0,c.of)(!0)))):this.route.data.pipe((0,u.R)(this.onDestroy),(0,l.w)(e=>{const t=e.data;return this.userService.user||(this.userService.user=new s.Q),this.userService._loggedUser=this.userService.user,this.userService._loggedUser.id=this.userService.user.id=this.userService.createId(t.uid),this.userService._loggedUser.name=t.displayName,this.userService._loggedUser.email=t.email,this.reactiveService.setListeners("@"+this.userService._loggedUser.id),this.authService.token}),(0,l.w)(e=>{var t;return this.userService.user&&(this.userService.user.token=e),this.userService._me=this.userService.getDbUser("/api/rest/user/"+(null===(t=this.userService.user)||void 0===t?void 0:t.id)+"/"+this.reactiveService.random+"/0"),this.userService._me})).subscribe(e=>{e&&(this.userService.setDbUser(e),this.authService.changeEmitter.next((0,c.of)(!0)),this.authService.checkComplete=!0)})}set value(e){e&&(this.myInput=e,this.renderer.addClass(this.myInput.nativeElement,"active"))}ngOnInit(){this.boolUser="/user/edit"===this.location.path()?(0,c.of)(1):(0,c.of)(0),this.isMobile=this.winRef.nativeWindow.innerWidth<620}ngAfterViewInit(){}ngOnDestroy(){this.onDestroy.next(),this.onDestroy.complete()}get newsCounts(){var e,t;const i=null===(t=null===(e=this.userService)||void 0===e?void 0:e._loggedUser)||void 0===t?void 0:t.id;return i&&this.service.newsCounts.get("@"+i)||"0"}get loggedUser(){return this.userService.dbUser}get followers(){var e;return(null===(e=this.loggedUser)||void 0===e?void 0:e.followers)?this.loggedUser.followers.length:0}get tags(){return this._tags}set tags(e){this._tags=e}tagClick(){var e,t;this.renderer.removeClass(this.myInput.nativeElement,"active");const i=null===(t=null===(e=this.userService)||void 0===e?void 0:e._loggedUser)||void 0===t?void 0:t.id;i&&this.userService.manageFollowingTag(i,!0).pipe((0,u.R)(this.onDestroy)).subscribe()}btnClick(){return this.boolUser=(0,c.of)(1),this.router.navigateByUrl("/user/edit")}followPeople(e){var t,i;this.renderer.removeClass(this.myInput.nativeElement,"active"),this._userIds=e?(null===(t=this.loggedUser)||void 0===t?void 0:t.followers)||[]:(null===(i=this.userService.newsCo.get(this.userService.links[2]))||void 0===i?void 0:i.map(e=>e.substring(1)))||[],this.boolUser=(0,c.of)(2)}get desc(){var e;return(0,c.of)(null===(e=this.userService.dbUser)||void 0===e?void 0:e.summary)}get boolUser(){return this._boolUser}set boolUser(e){this._boolUser=e}followTags(){var e;this.tags=(0,c.of)((null===(e=this.userService.newsCo.get(this.userService.links[1]))||void 0===e?void 0:e.map(e=>e.substring(1)))||[]),this.boolUser=(0,c.of)(3),this.renderer.removeClass(this.myInput.nativeElement,"active")}deleteClick(){window.confirm("Are sure you want to delete this item ?")&&console.log("Implement delete functionality here")}getUrl(e,t){let i="./";for(let r=1;r<this.service.getPathsList().length;r++){const e=this.service.getPathsList()[r];r<t&&(i+=e+"/")}return t>0?i+e:i}accountHistory(){this.boolUser=(0,c.of)(4)}contents(){this.boolUser=(0,c.of)(0)}editProfile(){this.boolUser=(0,c.of)(1)}moneyManage(){this.boolUser=(0,c.of)(5)}userMoneyManage(){this.boolUser=(0,c.of)(6)}myOffers(){this.boolUser=(0,c.of)(7)}mineOffers(){this.boolUser=(0,c.of)(8)}getContentsCount(){return this.reactiveService.getNewsSubject("me").value.length}getMyCount(){return this.reactiveService.getOffersSubject("my").value.length}getMeCount(){return this.reactiveService.getOffersSubject("me").value.length}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(g.K),a.Y36(d.e),a.Y36(n.gz),a.Y36(r.Ye),a.Y36(h.X),a.Y36(p.r),a.Y36(n.F0),a.Y36(f.Y),a.Y36(a.Qsj))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-page-user"]],viewQuery:function(e,t){if(1&e&&a.Gf(m,5),2&e){let e;a.iGM(e=a.CRH())&&(t.value=e.first)}},decls:46,vars:14,consts:[["id","user-profile"],[1,"top"],[1,"figure"],["src","assets/back-img.jpeg","width","1351px","height","225px","alt","asel",1,"image-bg"],["src","assets/profile-img.jpeg","width","192px","height","192px","alt","masel",1,"image-profile"],[1,"paths"],[4,"ngFor","ngForOf"],[1,"side"],[1,"resume"],["class","followee",3,"click",4,"ngIf"],[2,"margin","5px 0"],[2,"float","right"],[1,"followee",3,"click"],["style","text-align: center; padding-top: 10px",4,"ngIf"],[1,"center"],[3,"username","boolUser","user","userIds","tagz","isPub",4,"ngIf"],[3,"routerLink"],["myInput",""],["style","float: right",4,"ngIf"],[2,"text-align","center","padding-top","10px"],[1,"butto","ripple","button-outline",3,"click"],[3,"username","boolUser","user","userIds","tagz","isPub"]],template:function(e,t){if(1&e&&(a.TgZ(0,"main",0),a.TgZ(1,"section",1),a.TgZ(2,"figure",2),a._UZ(3,"img",3),a._UZ(4,"img",4),a.qZA(),a.qZA(),a.TgZ(5,"section",5),a.TgZ(6,"ol"),a.YNc(7,_,3,4,"li",6),a.ALo(8,"async"),a.qZA(),a.qZA(),a.TgZ(9,"section",7),a.TgZ(10,"article",8),a.TgZ(11,"h1"),a._uU(12,"\xd6zge\xe7mi\u015f"),a.qZA(),a.TgZ(13,"p"),a._uU(14,"Burada d\xfcnyaya geldi. Bu d\xfcnyada yeti\u015fti."),a.qZA(),a.qZA(),a.YNc(15,U,3,0,"button",9),a.YNc(16,C,4,1,"button",9),a.TgZ(17,"label",10),a._uU(18,"G\xf6r\xfcnt\xfcleme: "),a.TgZ(19,"span",11),a._uU(20),a.qZA(),a.qZA(),a.TgZ(21,"button",12),a.NdJ("click",function(){return t.followPeople(!1)}),a._uU(22,"Takip Edilen Ki\u015filer "),a.TgZ(23,"span",11),a._uU(24),a.qZA(),a.qZA(),a.TgZ(25,"button",12),a.NdJ("click",function(){return t.followTags()}),a._uU(26,"Takip Edilen Etiketler "),a.TgZ(27,"span",11),a._uU(28),a.qZA(),a.qZA(),a.TgZ(29,"button",12),a.NdJ("click",function(){return t.myOffers()}),a._uU(30,"Yap\u0131lan Teklifler "),a.TgZ(31,"span",11),a._uU(32),a.qZA(),a.qZA(),a.TgZ(33,"button",12),a.NdJ("click",function(){return t.mineOffers()}),a._uU(34,"Yapt\u0131\u011f\u0131m Teklifler "),a.TgZ(35,"span",11),a._uU(36),a.qZA(),a.qZA(),a.TgZ(37,"button",12),a.NdJ("click",function(){return t.followPeople(!0)}),a._uU(38,"Takip\xe7iler "),a.TgZ(39,"span",11),a._uU(40),a.qZA(),a.qZA(),a.YNc(41,Z,3,0,"div",13),a.YNc(42,S,3,0,"div",13),a.qZA(),a.TgZ(43,"section",14),a.YNc(44,x,1,6,"app-profile-center",15),a._UZ(45,"router-outlet"),a.qZA(),a.qZA()),2&e){let e,i;a.xp6(7),a.Q6J("ngForOf",a.lcZ(8,12,t.service.getBreadcrumbList())),a.xp6(8),a.Q6J("ngIf",t.location.isCurrentPathEqualTo("/user/edit")),a.xp6(1),a.Q6J("ngIf",!t.location.isCurrentPathEqualTo("/user/edit")),a.xp6(4),a.Oqu(t.newsCounts),a.xp6(4),a.Oqu(null==(e=t.userService.newsCo.get(t.userService.links[2]))?null:e.length),a.xp6(4),a.Oqu(null==(i=t.userService.newsCo.get(t.userService.links[1]))?null:i.length),a.xp6(4),a.Oqu(t.getMeCount()),a.xp6(4),a.Oqu(t.getMyCount()),a.xp6(4),a.Oqu(t.followers),a.xp6(1),a.Q6J("ngIf",t.location.path().startsWith("/users/")),a.xp6(1),a.Q6J("ngIf","/user"===t.location.path()),a.xp6(2),a.Q6J("ngIf",t.loggedUser)}},directives:[r.sg,r.O5,n.lC,n.yS,v.W],pipes:[r.Ov],styles:['#user-profile[_ngcontent-%COMP%]{width:100%;display:grid;grid-template:"a a" auto "d d" auto "b c" 1fr/1fr 2fr}section.top[_ngcontent-%COMP%]{grid-area:a;position:relative;display:grid;place-items:center}section.top[_ngcontent-%COMP%]   figure.figure[_ngcontent-%COMP%]{position:relative;height:calc(321 * (100vw / 1536))}section.top[_ngcontent-%COMP%]   figure.figure[_ngcontent-%COMP%]   .image-bg[_ngcontent-%COMP%]{height:calc(225 * (100vw / 1536));max-width:100%;object-fit:cover}section.top[_ngcontent-%COMP%]   figure.figure[_ngcontent-%COMP%]   .image-profile[_ngcontent-%COMP%]{position:absolute;bottom:0;left:5%;height:calc(192 * (100vw / 1536));width:calc(192 * (100vw / 1536));border-radius:50%}section.paths[_ngcontent-%COMP%]{grid-area:d;padding-left:34vw}section.paths[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{list-style-type:none;display:flex}section.paths[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}section.side[_ngcontent-%COMP%]{grid-area:b;padding:.5rem .75rem;background-color:#efefef}section.center[_ngcontent-%COMP%], section.side[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column}section.center[_ngcontent-%COMP%]{grid-area:c;padding-bottom:1.5rem}button.followee[_ngcontent-%COMP%]{cursor:pointer;flex-basis:50px;width:100%;margin:.25rem 0;border:none;box-shadow:1px 1px #cbcbcb;font-size:calc(15px + (26 - 14) * ((100vw - 300px) / (1600 - 300)))!important}.active[_ngcontent-%COMP%], button.followee[_ngcontent-%COMP%]:active, button.followee[_ngcontent-%COMP%]:focus, button.followee[_ngcontent-%COMP%]:hover{background:#fff}article.resume[_ngcontent-%COMP%]{padding:1rem;background:snow;margin:0 0 1rem}article.resume[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center}@media screen and (max-width:600px){#user-profile[_ngcontent-%COMP%]{grid-template:"a" auto "a" auto "d" auto "b" auto "c" 1fr/1fr;grid-gap:.25rem;gap:.25rem}section.paths[_ngcontent-%COMP%]{padding-left:5vw}}']}),e})();var y=i(5558),M=i(8346),P=i(3530),k=i(9996);let T=(()=>{class e{constructor(e,t){this.authService=e,this.router=t}resolve(e,t){return this.authService.getUser().pipe((0,P.P)(),(0,k.U)(e=>e))}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(d.e),a.LFG(n.F0))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var q=i(4166);const A=[{path:"edit",component:O,resolve:{data:T},children:[{path:"upload",component:q.r}]},{path:"",component:O,resolve:{data:T},children:[{path:"news-details/:id",component:M.Y},{path:"upload",component:q.r}]}];let I=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e,bootstrap:[O]}),e.\u0275inj=a.cJS({providers:[T],imports:[[r.ez,n.Bz.forChild(A),y.x],r.ez]}),e})()}}]);